import pytest

# Импортируем тестируемую функцию
from Task_2 import solve  # замените your_module на имя вашего файла без .py

@pytest.mark.parametrize(
    "cook_book, person, expected",
    [
        # Основной тест из примера (5 персон)
        (
            [
                ['Салат',
                    [
                        ['картофель', 100, 'гр.'],
                        ['морковь', 50, 'гр.'],
                        ['огурцы', 50, 'гр.'],
                        ['горошек', 30, 'гр.'],
                        ['майонез', 70, 'мл.'],
                    ]
                ],
                ['Пицца',
                    [
                        ['сыр', 50, 'гр.'],
                        ['томаты', 50, 'гр.'],
                        ['тесто', 100, 'гр.'],
                        ['бекон', 30, 'гр.'],
                        ['колбаса', 30, 'гр.'],
                        ['грибы', 20, 'гр.'],
                    ],
                ],
                ['Фруктовый десерт',
                    [
                        ['хурма', 60, 'гр.'],
                        ['киви', 60, 'гр.'],
                        ['творог', 60, 'гр.'],
                        ['сахар', 10, 'гр.'],
                        ['мед', 50, 'мл.'],
                    ]
                ]
            ],
            5,
            [
                'Салат: картофель 500 гр., морковь 250 гр., огурцы 250 гр., горошек 150 гр., майонез 350 мл.',
                'Пицца: сыр 250 гр., томаты 250 гр., тесто 500 гр., бекон 150 гр., колбаса 150 гр., грибы 100 гр.',
                'Фруктовый десерт: хурма 300 гр., киви 300 гр., творог 300 гр., сахар 50 гр., мед 250 мл.'
            ]
        ),
        # Тест для 1 персоны
        (
            [
                ['Салат',
                    [
                        ['картофель', 100, 'гр.'],
                        ['морковь', 50, 'гр.'],
                    ]
                ]
            ],
            1,
            [
                'Салат: картофель 100 гр., морковь 50 гр.'
            ]
        ),
        # Тест для 2 персон
        (
            [
                ['Суп',
                    [
                        ['вода', 500, 'мл.'],
                        ['картофель', 200, 'гр.'],
                    ]
                ]
            ],
            2,
            [
                'Суп: вода 1000 мл., картофель 400 гр.'
            ]
        ),
        # Тест с пустым списком
        (
            [],
            3,
            []
        ),
        # Тест с блюдом без ингредиентов
        (
            [
                ['Завтрак', []]
            ],
            2,
            [
                'Завтрак'
            ]
        )
    ]
)
def test_solve(cook_book, person, expected):
    result = solve(cook_book, person)
    assert result == expected